" {{{ Options
set vicmd=vim
set trash
set trashdir=%r/.vifm-Trash,$HOME/.vifm/trash
set history=100
set nofollowlinks
set fastrun
set sortnumbers
set undolevels=100
set novimhelp
set norunexec
set noiec
set fusehome=/tmp/vifm_FUSE
set timefmt=%Y-%m-%d\ %H:%M
set wildmenu
set ignorecase
set smartcase
set nohlsearch
set incsearch
set scrolloff=4
set slowfs=curlftpfs,cifs
set statusline=" %t%= %A %10u:%-7g %15s %20d "
set grepprg="ack\ -H\ -r\ %i\ %a\ %s"
set rulerformat="%2l/%S [%0-] "
set tuioptions-=s
set vifminfo=dhistory,chistory,state,tui,shistory,
    \phistory,fhistory,dirstack,registers,bookmarks

colorscheme custom
windo set viewcolumns=-{name}..,20{}.
" }}}

" {{{ Bookmarks
mark r /
mark h ~/
mark d ~/downloads
mark c ~/.dotfiles
mark m /mnt
" }}}

" {{{ Commands
command! df df -h %m 2> /dev/null
command! diff vim -d %f %F
command! zip zip -r %f.zip %f
command! run !! ./%f
command! make !!make %a
command! mkcd :mkdir %a | cd %a
command! vgrep vim "+grep %a"
command! reload :write | restart
" }}}

" {{{ Keys
nnoremap s :shell<cr>
nnoremap T :!urxvtc -cd %d<cr>
nnoremap S :sort<cr>
nnoremap w :view<cr>
vnoremap w :view<cr>gv
nnoremap o :!urxvtc -e vim --servername vim --remote-silent %f<cr>
nnoremap O :!urxvtc -e vim %f<cr>
nnoremap gb :file &<cr>l
nnoremap yd :!echo %d | xclip -selection clipboard %i<cr>
nnoremap yf :!echo %c:p | xclip -selection clipboard %i<cr>
nnoremap I cw<c-a>
nnoremap cc cw<c-u>
nnoremap A cw<c-w>
nnoremap ,w :set wrap!<cr>
nnoremap ,c :copy<cr>
nnoremap ,m :move<cr>
nnoremap ,b :set viewcolumns=-{name}..,20{}.<cr>
nnoremap ,d :set viewcolumns=-{name}.,10{perms},12{uname},-7{gname},10{size}.,20{mtime}<cr>
" }}}

" {{{ File Associations
filextype *.pdf zathura %c %i &, apvlv %c, xpdf %c
fileviewer *.pdf pdftotext -nopgbrk %c -
filextype *.ps,*.eps,*.ps.gz
        \ {View in zathura}
        \ zathura %f,
        \ {View in gv}
        \ gv %c %i &,

filextype *.djvu
        \ {View in zathura}
        \ zathura %f,
        \ {View in apvlv}
        \ apvlv %f,

filetype *.wav,*.mp3,*.flac,*.ogg,*.m4a,*.wma,*.ape,*.ac3
       \ {Play using ffplay}
       \ ffplay -nodisp %c,
       \ {Play using MPlayer}
       \ mplayer %f,
       \ ffplay %c,

filextype *.avi,*.mp4,*.wmv,*.dat,*.3gp,*.ogv,*.mkv,*.mpg,*.vob,*.flv,*.m2v,*.mov,*.webm,*.ts,*.m4v
        \ {View using mpv}
        \ mpv -really-quiet %f &,
        \ {View using mplayer}
        \ mplayer -really-quiet %f &,
        \ {View using ffplay}
        \ ffplay -fs %c,
        \ {View using Dragon}
        \ dragon %f,

fileviewer *.avi,*.mp4,*.wmv,*.dat,*.3gp,*.ogv,*.mkv,*.mpg,*.vob,*.flv,*.m2v,*.mov,*.webm,*.ts,*.m4v,*.mp3,*.flac
         \ mediainfo %c,
         \ ffprobe -pretty %c 2>&1

filextype *.html,*.htm
        \ {Open with chromium}
        \ chromium %f &,
        \ {Open with firefox}
        \ firefox %f &,
        \ {Open with uzbl}
        \ uzbl-browser %f %i &,
        \ {Open with dwb}
        \ dwb %f %i &,

filetype *.html,*.htm links, lynx
filetype *.o nm %f | less
filetype *.[1-8] gtbl %c | groff -Tascii -man | less
fileviewer *.[1-8] gtbl %c | groff -Tascii -man | col -b
filextype *.bmp,*.jpg,*.jpeg,*.png,*.gif,*.xpm
        \ {View in feh}
        \ feh -Tdefault %f &,
        \ {View in sxiv}
        \ sxiv,
        \ {View in gpicview}
        \ gpicview %c,

fileviewer *.bmp,*.jpg,*.jpeg,*.png,*.gif,*.xpm convert -identify %f -verbose /dev/null
filetype *.md5
       \ {Check MD5 hash sum}
       \ md5sum -c %f,

filetype *.asc
       \ {Check signature}
       \ !!gpg --verify %c,

fileviewer *.torrent transmission-show %f

filetype *.zip,*.jar,*.war,*.ear,*.oxt
       \ {Mount with fuse-zip}
       \ FUSE_MOUNT|fuse-zip -o allow_other %SOURCE_FILE %DESTINATION_DIR,
       \ {View contents}
       \ zip -sf %c | less,
       \ {Extract here}
       \ tar -xf %c,

fileviewer *.zip,*.jar,*.war,*.ear,*.oxt zip -sf %c

filetype *.tar,*.tar.bz2,*.tbz2,*.tgz,*.tar.gz,*.tar.xz,*.txz
       \ {Mount with archivemount}
       \ FUSE_MOUNT|archivemount %SOURCE_FILE %DESTINATION_DIR,

fileviewer *.tgz,*.tar.gz tar -tzf %c
fileviewer *.tar.bz2,*.tbz2 tar -tjf %c
fileviewer *.tar.txz,*.txz xz --list %c
filetype *.rar
       \ {Mount with rar2fs}
       \ FUSE_MOUNT|rar2fs %SOURCE_FILE %DESTINATION_DIR,

fileviewer *.rar unrar v %c
filetype *.iso
       \ {Mount with fuseiso}
       \ FUSE_MOUNT|fuseiso %SOURCE_FILE %DESTINATION_DIR,

filetype *.ssh
       \ {Mount with sshfs}
       \ FUSE_MOUNT2|sshfs %PARAM %DESTINATION_DIR,

filetype *.ftp
       \ {Mount with curlftpfs}
       \ FUSE_MOUNT2|curlftpfs -o ftp_port=-,,disable_eprt %PARAM %DESTINATION_DIR,

filetype *.7z
       \ {Mount with fuse-7z}
       \ FUSE_MOUNT|fuse-7z %SOURCE_FILE %DESTINATION_DIR,

fileviewer *.7z 7z l %c
filextype *.odt,*.doc,*.docx,*.xls,*.xlsx,*.odp,*.pptx libreoffice %f &
fileviewer *.doc catdoc %c
fileviewer *.docx, docx2txt.pl %f -
filetype *.tudu tudu -f %c
filextype *.pro qtcreator %f &
fileviewer .*/,*/ tree %f
" }}}

" vim:ft=vim:foldmethod=marker
